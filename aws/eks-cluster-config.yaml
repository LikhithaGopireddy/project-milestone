apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: haneesh-cloud
  region: us-west-1
  # Update: Use a currently supported EKS Kubernetes version.
  # As of November 2025, 1.34 is the latest supported version.
  version: "1.34"

managedNodeGroups:
  - name: haneesh-nodes
    # Update: Replace t2.medium with a modern, general-purpose instance type.
    # t3.medium or m5.large are better choices. t3.medium is the burstable counterpart to t2.medium.
    instanceType: t3.medium
    desiredCapacity: 2
    minSize: 1
    maxSize: 3
    volumeSize: 20
    # Add: Recommended to specify the volume type, typically gp3 for better price/performance than gp2 (the old default).
    volumeType: gp3 
    labels:
      role: worker
    tags:
      nodegroup-role: worker
    # Add: Explicitly define the AMI family for modern/recommended OS.
    # AL2023 is the latest, but AL2_x86_64 (Amazon Linux 2) is a very safe choice.
    amiFamily: AmazonLinux2
